; /usr/local/etc/php/conf.d/zz-opcache.ini

opcache.enable=1
opcache.enable_cli=1
opcache.validate_timestamps=0

; Memory limits
opcache.memory_consumption=256
opcache.interned_strings_buffer=64
opcache.max_accelerated_files=30000

; JIT Tracing (PHP 8.4 optimization)
opcache.jit=tracing
opcache.jit_buffer_size=100M

; Preloading
; IMPORTANT: Match the path in your Dockerfile (COPY docker/php/preload.php /app/preload.php)
;opcache.preload=/app/preload.php
opcache.preload_user=www-data

; This silences the anonymous class warnings
opcache.preload_warning=0

realpath_cache_size=8192k
realpath_cache_ttl=600